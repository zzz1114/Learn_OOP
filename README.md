[TOC]

# C++面向对象

 面向对象的三大特征：**封装、继承、多态**
 万物皆对象

## 封装：

### 封装的意义1：将属性和行为进行统一

- 将对象的属性和行为作为一个整体，表现一个事物

- 将属性和行为加以权限的控制

    string类型的赋值操作，通过assign来实现，或者直接赋值：

```c
string s1("hello world"), s2;
//s2 = s1;		这样也是可以的 
s2.assign(s1);
```



属性、行为统称为成员	

属性：成员属性.....

行为：成员方法.....



### 封装的意义2：设置访问权限

三种访问权限：

- public          类内可以访问，类外可以访问
- protected   类内可以访问，类外不能访问，子类可以访问
- private        类内可以访问，类外不能访问，子类不能访问

### struct和class的区别

C++中，两者的唯一区别：默认的访问权限不同

- struct默认权限为公共权限public
- class默认权限为私有权限 private

> 不论是属性还是方法，只要没有明确声明权限，默认情况下，在class中都是private的，类外无法访问。在struct中都是public的，在类外可以访问。



## 构造函数和析构函数

### 构造函数的分类及调用

两种分类方式：

- 按参数分为，有参构造函数和无参构造函数
- 按类型分为，普通构造函数和**拷贝构造函数**

三种调用方式：

- 括号法：

    > ```c
    > Stu stu("张三", 18, "男");   //普通构造函数
    > Stu stu2(stu);				//拷贝构造函数
    > ```

- 显式法：

    > ```c
    > Person person = Person("张三", 18);	//普通构造函数
    > Person person1 = Person(person);	 //拷贝构造函数
    > ```

    > 像Person("张三", 18); 这种对象是**匿名对象**，系统在当前行结束后会立即回收
    >
    > **不要用拷贝构造初始化一个匿名对象**，这样，Person(p)  <==> Person p; 系统会忽略括号，当做重新定义了一个对象p

- 隐式转换法



拷贝构造函数（复制构造函数）：

用于对象间的赋值  类名(类名 &p);			将p的所有属性复制到自身

> 话说为什么要用引用呢？只是复制，根本不会改变源对象的属性

另外，为了防止函数内部对源对象对的异常改变，可以给形参加上const关键字

#### 拷贝构造函数的使用

```c
Stu (const Stu& stu)
{
	Name = stu.getName();
    ...
}
...
    
Stu stu1("张三", 18, "男");

Stu stu2(stu1);
Stu stu3 = stu1;
```

上述两种调用方式虽然形式不同，但是执行的操作完全相同
